(()=>{"use strict";var e={96:(e,t,a)=>{var s=a(751),o=a(641),l=a(953),r=a(810);const n=(0,r.nY)("auth",{state:()=>({user:null,token:null}),getters:{isLoggedIn:e=>!!e.token,getToken:e=>e.token},actions:{setUser(e,t){this.user=e,this.token=t,localStorage.setItem("token",t),localStorage.setItem("user",JSON.stringify(e))},logout(){this.user=null,this.token=null,localStorage.removeItem("token"),localStorage.removeItem("user")},initializeAuth(){const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));e&&t&&(this.user=t,this.token=e)}}});var i=a(33),u=a(220);const c={class:"bg-blue-600 shadow-md"},d={class:"container mx-auto px-6 py-3"},p={class:"flex items-center justify-between"},g={class:"flex items-center space-x-6"},v={key:0,class:"flex space-x-4"},b={class:"flex items-center space-x-4"},m={key:0,class:"flex items-center space-x-4"},h={class:"text-white"},x={class:"font-bold"},f={key:1,class:"space-x-2"},k={__name:"NavBar",emits:["open-auth"],setup(e,{emit:t}){const a=(0,u.rd)(),s=n(),r=async()=>{try{await s.logout(),a.push("/")}catch(e){console.error("Error during logout:",e)}};return(e,t)=>{const a=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("nav",c,[(0,o.Lk)("div",d,[(0,o.Lk)("div",p,[(0,o.Lk)("div",g,[(0,o.bF)(a,{to:"/",class:"text-2xl font-semibold text-white"},{default:(0,o.k6)((()=>t[2]||(t[2]=[(0,o.eW)(" Expense Tracker ")]))),_:1}),(0,l.R1)(s).isLoggedIn?((0,o.uX)(),(0,o.CE)("div",v,[(0,o.bF)(a,{to:"/dashboard",class:(0,i.C4)(["text-white hover:text-blue-200 transition-colors",{"font-bold":"/dashboard"===e.$route.path}])},{default:(0,o.k6)((()=>t[3]||(t[3]=[(0,o.eW)(" Dashboard ")]))),_:1},8,["class"]),(0,o.bF)(a,{to:"/expenses",class:(0,i.C4)(["text-white hover:text-blue-200 transition-colors",{"font-bold":"/expenses"===e.$route.path}])},{default:(0,o.k6)((()=>t[4]||(t[4]=[(0,o.eW)(" Gestionar Gastos ")]))),_:1},8,["class"])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",b,[(0,l.R1)(s).user?((0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("span",h,[t[5]||(t[5]=(0,o.eW)(" Bienvenido, ")),(0,o.Lk)("span",x,(0,i.v_)((0,l.R1)(s).user.username),1)]),(0,o.Lk)("button",{onClick:r,class:"px-4 py-2 bg-white text-blue-600 rounded hover:bg-blue-100 transition-colors"}," Cerrar Sesión ")])):((0,o.uX)(),(0,o.CE)("div",f,[(0,o.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("open-auth","login")),class:"px-4 py-2 bg-white text-blue-600 rounded hover:bg-blue-100 transition-colors"}," Iniciar Sesión "),(0,o.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("open-auth","register")),class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-400 transition-colors"}," Registrarse ")]))])])])])}}};var E=a(262);const y=(0,E.A)(k,[["__scopeId","data-v-7dd89fcc"]]),_=y;var w=a(335),A=a(223),L=a(77);const I={apiKey:"AIzaSyCIPH9gri4dqlFRzc3N-mUvk6kV4H1B7oU",authDomain:"expenses-traker-f3fcc.firebaseapp.com",projectId:"expenses-traker-f3fcc",storageBucket:"expenses-traker-f3fcc.firebasestorage.app",messagingSenderId:"396367934349",appId:"1:396367934349:web:517f583db5ef48606d43c4"},R=(0,A.Wp)(I),C=(0,L.xI)(R),P=new L.HF,S=w.A.create({baseURL:{NODE_ENV:"production",VUE_APP_FIREBASE_API_KEY:"AIzaSyCIPH9gri4dqlFRzc3N-mUvk6kV4H1B7oU",VUE_APP_FIREBASE_APP_ID:"1:396367934349:web:517f583db5ef48606d43c4",VUE_APP_FIREBASE_AUTH_DOMAIN:"expenses-traker-f3fcc.firebaseapp.com",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-CB1CBDK624",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"396367934349",VUE_APP_FIREBASE_PROJECT_ID:"expenses-traker-f3fcc",VUE_APP_FIREBASE_STORAGE_BUCKET:"expenses-traker-f3fcc.firebasestorage.app",BASE_URL:"/"}.APP_API_BACKEND_URL}),U=async(e,t,a)=>{try{const s=await(0,L.eJ)(C,e,t),o=s.user;console.log("datos de form user:",e,t,a);const l={username:e,email:o.email,password:t,display_name:a};await S.post("auth/register",l);const r=await S.post("auth/login",{username:e,email:e,password:t});return{user:{username:a,email:o.email},access_token:r.data.access_token}}catch(s){throw console.error("Error in registration:",s),s}},B=async(e,t)=>{try{const a=await(0,L.x9)(C,e,t),s=a.user,o=await S.post("auth/login",{username:e,email:e,password:t});return{user:{username:o.data.username,email:s.email},access_token:o.data.access_token}}catch(a){throw console.error("Error en login:",a),a}},F=async()=>{try{const t=await(0,L.df)(C,P),a=t.user;console.log("Google user:",a);const s={username:a.displayName,email:a.email,password:a.uid};let o;try{o=await S.post("auth/login",s)}catch(e){if(401!==e.response?.status)throw e;await S.post("auth/register",s),o=await S.post("auth/login",s)}return{user:{username:o.data.username,email:a.email},access_token:o.data.access_token}}catch(t){throw console.error("Error during Google sign-in:",t),t}},K={class:"max-w-md mx-auto p-4"},V={key:0,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4"},O=["disabled"],D=["disabled"],X={__name:"Login",emits:["close","open-auth"],setup(e,{emit:t}){const a=(0,u.rd)(),r=n(),c=(0,l.KR)(""),d=(0,l.KR)(""),p=(0,l.KR)(""),g=(0,l.KR)(!1),v=t,b=async()=>{g.value=!0,p.value="";try{const e=await B(c.value,d.value);if(!e.access_token)throw new Error("No se recibió token de acceso");r.setUser(e.user,e.access_token),v("close"),a.push("/expenses")}catch(e){p.value=e.response?.data?.detail||"Error en login",console.error("Error completo:",e)}finally{g.value=!1}},m=async()=>{g.value=!0,p.value="";try{const e=await F();if(!e.access_token)throw new Error("No se recibió token de acceso");r.setUser(e.user,e.access_token),v("close"),a.push("/expenses")}catch(e){p.value="Error al iniciar sesión con Google",console.error("Error completo:",e)}finally{g.value=!1}},h=()=>{v("open-auth","register")};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",K,[t[4]||(t[4]=(0,o.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Login",-1)),p.value?((0,o.uX)(),(0,o.CE)("div",V,(0,i.v_)(p.value),1)):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:(0,s.D$)(b,["prevent"]),class:"mb-6"},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),type:"email",placeholder:"Email",class:"border p-2 mb-2 w-full",required:""},null,512),[[s.Jo,c.value]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),type:"password",placeholder:"Contraseña",class:"border p-2 mb-2 w-full",required:""},null,512),[[s.Jo,d.value]]),(0,o.Lk)("button",{type:"submit",class:"w-full p-2 bg-blue-500 text-white rounded",disabled:g.value},(0,i.v_)(g.value?"Ingresando...":"Ingresar"),9,O)],32),(0,o.Lk)("button",{onClick:m,class:"w-full p-2 bg-red-500 text-white rounded mb-6 flex items-center justify-center",disabled:g.value},[t[2]||(t[2]=(0,o.Lk)("i",{class:"fab fa-google mr-2"},null,-1)),(0,o.eW)(" "+(0,i.v_)(g.value?"Conectando...":"Ingresar con Google"),1)],8,D),(0,o.Lk)("p",{class:"mt-4 text-center"},[t[3]||(t[3]=(0,o.eW)(" ¿No tienes una cuenta? ")),(0,o.Lk)("button",{onClick:h,class:"text-blue-500 underline"},"Regístrate")])]))}},N=X,G=N,T={class:"max-w-md mx-auto p-4"},j={key:0,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4"},q=["disabled"],M={__name:"Register",emits:["close","open-auth"],setup(e,{emit:t}){const a=(0,u.rd)(),r=n(),c=(0,l.KR)(""),d=(0,l.KR)(""),p=(0,l.KR)(""),g=(0,l.KR)(null),v=(0,l.KR)(!1),b=t,m=async()=>{v.value=!0,g.value=null;try{const e=await U(c.value,d.value,p.value);r.setUser(e.user,e.access_token),b("close"),a.push("/home")}catch(e){if(console.error("Registration error:",e),e.response?.data?.detail)g.value=e.response.data.detail;else if(e.code){const t={"auth/email-already-in-use":"El email ya está registrado","auth/invalid-email":"Email inválido","auth/operation-not-allowed":"Operación no permitida","auth/weak-password":"La contraseña es muy débil"};g.value=t[e.code]||"Error en el registro"}else g.value="Error en el registro. Por favor, intente nuevamente."}finally{v.value=!1}},h=()=>{b("open-auth","login")};return(e,t)=>((0,o.uX)(),(0,o.CE)("div",T,[t[4]||(t[4]=(0,o.Lk)("h1",{class:"text-2xl font-bold mb-4"},"Registro",-1)),g.value?((0,o.uX)(),(0,o.CE)("div",j,(0,i.v_)(g.value),1)):(0,o.Q3)("",!0),(0,o.Lk)("form",{onSubmit:(0,s.D$)(m,["prevent"])},[(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),type:"email",placeholder:"Email",class:"border p-2 mb-2 w-full",required:""},null,512),[[s.Jo,c.value]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>d.value=e),type:"password",placeholder:"Contraseña",class:"border p-2 mb-2 w-full",required:""},null,512),[[s.Jo,d.value]]),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>p.value=e),type:"text",placeholder:"Nombre",class:"border p-2 mb-2 w-full",required:""},null,512),[[s.Jo,p.value]]),(0,o.Lk)("button",{type:"submit",class:"w-full p-2 bg-green-500 text-white rounded hover:bg-green-600",disabled:v.value},(0,i.v_)(v.value?"Registrando...":"Registrarse"),9,q)],32),(0,o.Lk)("p",{class:"mt-4 text-center"},[t[3]||(t[3]=(0,o.eW)(" ¿Ya tienes una cuenta? ")),(0,o.Lk)("button",{onClick:h,class:"text-blue-500 underline"},"Inicia sesión")])]))}},W=M,$=W,z={class:"container mx-auto p-4"},H={class:"text-center"},J={key:0,class:"mb-4"},Q={key:1,class:"mb-4"},Y={__name:"Home",setup(e){const t=n(),a=(0,o.WQ)("openAuthModal");return(e,s)=>{const r=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",z,[(0,o.Lk)("div",H,[s[2]||(s[2]=(0,o.Lk)("h1",{class:"text-4xl font-bold mb-4"},"Bienvenido a Gestor de Gastos",-1)),s[3]||(s[3]=(0,o.Lk)("p",{class:"text-xl mb-8"},"Una aplicación simple para gestionar tus gastos diarios",-1)),(0,l.R1)(t).isLoggedIn?((0,o.uX)(),(0,o.CE)("div",J,[(0,o.bF)(r,{to:"/expenses",class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},{default:(0,o.k6)((()=>s[1]||(s[1]=[(0,o.eW)(" Ir a Gestión de Gastos ")]))),_:1})])):((0,o.uX)(),(0,o.CE)("div",Q,[(0,o.Lk)("button",{onClick:s[0]||(s[0]=e=>(0,l.R1)(a)("login")),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"}," Iniciar Sesión ")]))])])}}},Z=Y,ee=Z,te={id:"app",class:"min-h-screen bg-gray-100"},ae={class:"p-4"},se={key:0,class:"fixed inset-0 flex justify-center items-center bg-black bg-opacity-50"},oe={class:"bg-white p-6 rounded relative"},le={name:"App",components:{Home:ee}},re=Object.assign(le,{setup(e){const t=(0,l.KR)(!1),a=(0,l.KR)("login"),s=n(),r=e=>{a.value=e,t.value=!0};(0,o.Gt)("openAuthModal",r);const i=()=>{t.value=!1};return(0,o.sV)((async()=>{s.initializeAuth(),s.isLoggedIn||r("login")})),(0,o.wB)((()=>s.isLoggedIn),(e=>{e&&(t.value=!1)})),(e,n)=>{const u=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)("div",te,[(0,o.bF)(_,{onOpenAuth:r}),(0,o.Lk)("main",ae,[(0,o.bF)(u)]),t.value&&!(0,l.R1)(s).isLoggedIn?((0,o.uX)(),(0,o.CE)("div",se,[(0,o.Lk)("div",oe,[(0,o.Lk)("button",{onClick:i,class:"absolute top-2 right-2 text-gray-500"},"×"),"login"===a.value?((0,o.uX)(),(0,o.Wv)(G,{key:0,onClose:i,onOpenAuth:r})):"register"===a.value?((0,o.uX)(),(0,o.Wv)($,{key:1,onClose:i})):(0,o.Q3)("",!0)])])):(0,o.Q3)("",!0)])}}}),ne=re,ie=ne,ue={class:"container mx-auto p-4"},ce={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},de={class:"bg-white p-4 rounded-lg shadow"};function pe(e,t){const a=(0,o.g2)("ExpenseList");return(0,o.uX)(),(0,o.CE)("div",ue,[t[2]||(t[2]=(0,o.Lk)("h1",{class:"text-2xl font-bold mb-6"},"Dashboard",-1)),(0,o.Lk)("div",ce,[t[1]||(t[1]=(0,o.Lk)("div",{class:"bg-white p-4 rounded-lg shadow"},[(0,o.Lk)("h2",{class:"text-xl font-semibold mb-4"},"Resumen")],-1)),(0,o.Lk)("div",de,[t[0]||(t[0]=(0,o.Lk)("h2",{class:"text-xl font-semibold mb-4"},"Últimos Gastos",-1)),(0,o.bF)(a,{expenses:e.recentExpenses},null,8,["expenses"])])])])}const ge={},ve=(0,E.A)(ge,[["render",pe]]),be=ve,me=w.A.create({baseURL:{NODE_ENV:"production",VUE_APP_FIREBASE_API_KEY:"AIzaSyCIPH9gri4dqlFRzc3N-mUvk6kV4H1B7oU",VUE_APP_FIREBASE_APP_ID:"1:396367934349:web:517f583db5ef48606d43c4",VUE_APP_FIREBASE_AUTH_DOMAIN:"expenses-traker-f3fcc.firebaseapp.com",VUE_APP_FIREBASE_MEASUREMENT_ID:"G-CB1CBDK624",VUE_APP_FIREBASE_MESSAGING_SENDER_ID:"396367934349",VUE_APP_FIREBASE_PROJECT_ID:"expenses-traker-f3fcc",VUE_APP_FIREBASE_STORAGE_BUCKET:"expenses-traker-f3fcc.firebasestorage.app",BASE_URL:"/"}.APP_API_BACKEND_URL,headers:{"Content-Type":"application/json"}});me.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization=`Bearer ${t}`),e})),me.interceptors.response.use((e=>e),(e=>{if(401===e.response?.status){const e=n();e.logout(),window.location.reload()}return Promise.reject(e)}));const he={getAll:()=>me.get("/expenses/"),create:e=>me.post("/expenses/",e),update:(e,t)=>me.put(`/expenses/${e}/`,t),delete:e=>me.delete(`/expenses/${e}/`),getById:e=>me.get(`/expenses/${e}/`)},xe={getAll:()=>me.get("/categories/"),getById:e=>me.get(`/categories/${e}/`)},fe={class:"text-xl font-bold mb-4"},ke=["disabled"],Ee=["value"],ye=["disabled"],_e=["disabled"],we={class:"flex gap-2"},Ae=["disabled"],Le={__name:"ExpenseForm",props:{loading:Boolean,expenseToEdit:{type:Object,default:null}},emits:["add-expense","update-expense","cancel-edit"],setup(e,{emit:t}){const a=e,r=t,n=(0,l.KR)(""),u=(0,l.KR)(""),c=(0,l.KR)(""),d=(0,l.KR)([]),p=(0,l.KR)(!1);(0,o.wB)((()=>a.expenseToEdit),(e=>{e&&(n.value=e.description,u.value=e.amount,c.value=e.category_id,p.value=!0)}),{immediate:!0});const g=async()=>{try{const e=await xe.getAll();d.value=e.data}catch(e){console.error("Error loading categories:",e)}},v=e=>{const t=parseFloat(e.target.value);t<=0&&(e.target.value="",u.value="")},b=()=>{if(!c.value)return void alert("Por favor seleccione una categoría");if(parseFloat(u.value)<=0)return void alert("El monto debe ser mayor a 0");const e={description:n.value,amount:parseFloat(u.value),category_id:c.value,date:(new Date).toISOString()};p.value?r("update-expense",a.expenseToEdit.id,e):r("add-expense",e),h()},m=()=>{h(),r("cancel-edit")},h=()=>{n.value="",u.value="",c.value="",p.value=!1};return(0,o.sV)(g),(t,a)=>((0,o.uX)(),(0,o.CE)("div",{class:(0,i.C4)(["max-w-md mx-auto mt-10 p-6 bg-white rounded-lg shadow-lg",{"bg-yellow-50":p.value}])},[(0,o.Lk)("h2",fe,(0,i.v_)(p.value?"Actualizar Gasto":"Agregar Gasto"),1),(0,o.Lk)("form",{onSubmit:(0,s.D$)(b,["prevent"]),class:"flex flex-col space-y-4"},[(0,o.bo)((0,o.Lk)("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),required:"",disabled:e.loading,class:"border border-gray-500 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},[a[3]||(a[3]=(0,o.Lk)("option",{value:""},"Seleccione categoría",-1)),((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(d.value,(e=>((0,o.uX)(),(0,o.CE)("option",{key:e.id,value:e.id},(0,i.v_)(e.name),9,Ee)))),128))],8,ke),[[s.u1,c.value]]),(0,o.bo)((0,o.Lk)("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),placeholder:"Descripción del gasto",required:"",disabled:e.loading,class:"border border-gray-500 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,8,ye),[[s.Jo,n.value]]),(0,o.bo)((0,o.Lk)("input",{type:"number","onUpdate:modelValue":a[2]||(a[2]=e=>u.value=e),placeholder:"Monto",required:"",min:"0.01",step:"0.01",disabled:e.loading,onInput:v,class:"border border-gray-500 rounded p-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,40,_e),[[s.Jo,u.value]]),(0,o.Lk)("div",we,[(0,o.Lk)("button",{type:"submit",disabled:e.loading,class:(0,i.C4)(["flex-1 text-white rounded p-2 transition disabled:opacity-50",p.value?"bg-yellow-500 hover:bg-yellow-600":"bg-blue-500 hover:bg-blue-600"])},(0,i.v_)(e.loading?"Procesando...":p.value?"Actualizar":"Agregar"),11,Ae),p.value?((0,o.uX)(),(0,o.CE)("button",{key:0,type:"button",onClick:m,class:"flex-1 bg-gray-500 text-white rounded p-2 hover:bg-gray-600 transition"}," Cancelar ")):(0,o.Q3)("",!0)])],32)],2))}},Ie=(0,E.A)(Le,[["__scopeId","data-v-2b635f92"]]),Re=Ie,Ce={class:"mt-4"},Pe={class:"space-y-2"},Se=["onClick"],Ue=["onClick"],Be={__name:"ExpenseList",props:{expenses:{type:Array,required:!0}},emits:["remove-expense","edit-expense"],setup(e,{emit:t}){const a=t,s=e=>{a("remove-expense",e.id)},l=e=>{a("edit-expense",e)};return(t,a)=>((0,o.uX)(),(0,o.CE)("div",Ce,[a[0]||(a[0]=(0,o.Lk)("h2",{class:"text-xl font-bold mb-2"},"Lista de Gastos",-1)),(0,o.Lk)("ul",Pe,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(e.expenses,((e,t)=>((0,o.uX)(),(0,o.CE)("li",{key:t,class:"flex items-center justify-between p-2 border rounded bg-white shadow"},[(0,o.Lk)("span",null,(0,i.v_)(e.description)+" - $"+(0,i.v_)(e.amount),1),(0,o.Lk)("div",null,[(0,o.Lk)("button",{onClick:t=>l(e),class:"mr-2 text-sm px-2 py-1 rounded bg-yellow-500 text-white hover:bg-yellow-600"}," Editar ",8,Se),(0,o.Lk)("button",{onClick:t=>s(e),class:"bg-red-500 text-white text-sm px-2 py-1 rounded hover:bg-red-600"}," Eliminar ",8,Ue)])])))),128))])]))}},Fe=(0,E.A)(Be,[["__scopeId","data-v-d3b87e04"]]),Ke=Fe,Ve={class:"container mx-auto p-4"},Oe={key:0,class:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4"},De={class:"flex flex-col md:flex-row gap-6"},Xe={class:"w-full md:w-1/3"},Ne={class:"w-full md:w-2/3"},Ge={key:0,class:"text-center py-4"},Te={__name:"ExpensesManagement",setup(e){const t=n(),a=(0,l.KR)([]),s=(0,l.KR)(!1),r=(0,l.KR)(null),u=(0,l.KR)(null),c=async()=>{if(t.isLoggedIn){s.value=!0,r.value=null;try{const e=await he.getAll();0===e.data.length&&(r.value="No existen gastos en la base de datos"),a.value=e.data}catch(e){r.value="Error al cargar los gastos",console.error(e)}finally{s.value=!1}}},d=async e=>{s.value=!0,r.value=null;try{const t=await he.create(e);a.value.push(t.data)}catch(t){r.value="Error al agregar el gasto",console.error(t)}finally{s.value=!1}},p=async(e,t)=>{s.value=!0,r.value=null;try{const s=await he.update(e,t),o=a.value.findIndex((t=>t.id===e));-1!==o&&(a.value[o]=s.data),u.value=null}catch(o){r.value="Error al actualizar el gasto",console.error(o)}finally{s.value=!1}},g=async e=>{s.value=!0,r.value=null;try{await he.delete(e),a.value=a.value.filter((t=>t.id!==e))}catch(t){r.value="Error al eliminar el gasto",console.error(t)}finally{s.value=!1}},v=e=>{u.value=e},b=()=>{u.value=null};return(0,o.sV)((()=>{t.isLoggedIn&&c()})),(e,t)=>((0,o.uX)(),(0,o.CE)("div",Ve,[r.value?((0,o.uX)(),(0,o.CE)("div",Oe,(0,i.v_)(r.value),1)):(0,o.Q3)("",!0),(0,o.Lk)("div",De,[(0,o.Lk)("div",Xe,[(0,o.bF)(Re,{onAddExpense:d,onUpdateExpense:p,onCancelEdit:b,loading:s.value,"expense-to-edit":u.value},null,8,["loading","expense-to-edit"])]),(0,o.Lk)("div",Ne,[t[0]||(t[0]=(0,o.Lk)("h2",{class:"text-xl font-bold mb-4"},"Todos los Gastos",-1)),s.value?((0,o.uX)(),(0,o.CE)("div",Ge," Cargando... ")):((0,o.uX)(),(0,o.Wv)(Ke,{key:1,expenses:a.value,onRemoveExpense:g,onEditExpense:v},null,8,["expenses"]))])])]))}},je=Te,qe=je,Me=[{path:"/",name:"Home",component:ee,meta:{redirectIfAuth:!0}},{path:"/dashboard",name:"Dashboard",component:be,meta:{requiresAuth:!0}},{path:"/expenses",name:"ExpensesManagement",component:qe,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:G},{path:"/register",name:"Register",component:$}],We=(0,u.aE)({history:(0,u.LA)(),routes:Me});We.beforeEach(((e,t,a)=>{const s=n(),o=e.matched.some((e=>e.meta.requiresAuth)),l=e.matched.some((e=>e.meta.redirectIfAuth));l&&s.isLoggedIn?a("/expenses"):o&&!s.isLoggedIn?a("/login"):!s.isLoggedIn||"/login"!==e.path&&"/register"!==e.path?a():a("/expenses")}));const $e=We,ze=(0,s.Ef)(ie);ze.use((0,r.Ey)()),ze.use($e),ze.mount("#app")}},t={};function a(s){var o=t[s];if(void 0!==o)return o.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,a),l.exports}a.m=e,(()=>{var e=[];a.O=(t,s,o,l)=>{if(!s){var r=1/0;for(c=0;c<e.length;c++){for(var[s,o,l]=e[c],n=!0,i=0;i<s.length;i++)(!1&l||r>=l)&&Object.keys(a.O).every((e=>a.O[e](s[i])))?s.splice(i--,1):(n=!1,l<r&&(r=l));if(n){e.splice(c--,1);var u=o();void 0!==u&&(t=u)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[s,o,l]}})(),(()=>{a.d=(e,t)=>{for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}})(),(()=>{a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{a.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,s)=>{var o,l,[r,n,i]=s,u=0;if(r.some((t=>0!==e[t]))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(i)var c=i(a)}for(t&&t(s);u<r.length;u++)l=r[u],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(c)},s=self["webpackChunkexpense_control_app"]=self["webpackChunkexpense_control_app"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var s=a.O(void 0,[504],(()=>a(96)));s=a.O(s)})();
//# sourceMappingURL=app.2bf084bd.js.map